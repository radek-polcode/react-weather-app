(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){e.exports=a(313)},137:function(e,t,a){},157:function(e,t,a){},161:function(e,t,a){},294:function(e,t,a){},307:function(e,t,a){},309:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(26),s=a.n(i),c=(a(137),a(14)),o=a(15),u=a(17),l=a(16),h=a(18),d=a(48),m=a(19),p=a(76),y=a.n(p),f=(a(157),a(159),function(e){return"https://openweathermap.org/img/w/_type_.png".replace("_type_",e)}),v=(a(161),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleOnClick",value:function(e){(0,this.props.onButtonClick)(e)}},{key:"render",value:function(){var e=this.props.activeButtonChart,t=this.props.currentDateTimeWeather,a=t.humidity,n=t.imgCode,i=t.pressure,s=t.temperature,c=t.wind;return r.a.createElement(m.e,{className:"detailedInfo"},r.a.createElement(m.c,{xs:"6"},r.a.createElement("img",{className:"detailedInfo__image",src:f(n),alt:"weather-thumbnail"}),r.a.createElement("div",{className:"detailedInfo__temperatureBlock"},r.a.createElement("span",{className:"detailedInfo__currentTemperature"},s),r.a.createElement("span",{className:"detailedInfo__units"},"\xb0C | \xb0F"))),r.a.createElement(m.c,{xs:"6"},r.a.createElement("div",{className:"detailedInfo__details"},r.a.createElement("p",null,"Humidity: ",a," %"),r.a.createElement("p",null,"Pressure: ",i," hPa"),r.a.createElement("p",null,"Wind: ",c," mps"),r.a.createElement(m.b,null,r.a.createElement(m.a,{className:"temperatureButton"===e?"active":"",name:"temperatureButton",size:"sm",onClick:this.handleOnClick.bind(this,"temperatureButton")},"Temperature"),r.a.createElement(m.a,{className:"pressureButton"===e?"active":"",name:"pressureButton",size:"sm",onClick:this.handleOnClick.bind(this,"pressureButton")},"Pressure"),r.a.createElement(m.a,{className:"windButton"===e?"active":"",name:"windButton",size:"sm",onClick:this.handleOnClick.bind(this,"windButton")},"Wind")))))}}]),t}(n.Component));v.defaultProps={activeButtonChart:"",currentDateTimeWeather:{}};var g=a(316),D=a(291),b=a(290),C=a(314);var k=function(e){var t=e.selectedDateWeather,a=e.activeButtonChart,n=function(){switch(a){case"temperatureButton":return{fill:"rgba(255, 204, 0, 0.2)",stroke:"#ffcc00"};case"pressureButton":return{fill:"rgba(0, 97, 255, 0.2)",stroke:"#0092ff"};case"windButton":return{fill:"rgba(138, 141, 146, 0.4)",stroke:"#65696F"};default:return{fill:"rgba(255, 204, 0, 0.2)",stroke:"#ffcc00"}}};return r.a.createElement("div",null,r.a.createElement(g.a,{data:t,height:120,margin:{top:25},width:600},r.a.createElement(D.a,{domain:function(){switch(a){case"windButton":return["dataMin - 1","dataMax + 1"];case"temperatureButton":case"pressureButton":default:return["dataMin - 3","dataMax + 3"]}}(),hide:!0,tick:!1,tickLine:!1}),r.a.createElement(b.a,{axisLine:!1,dataKey:"hour",interval:"preserveStartEnd",padding:{left:25,right:25},minTickGap:0,tickLine:!1,tick:{stroke:"#bababa",fontSize:10}}),r.a.createElement(C.a,{animationDuration:500,animationEasing:"ease-in",dataKey:"value",fill:n().fill,label:{fill:"#bababa",fontSize:"12",position:"top"},stroke:n().stroke,strokeWidth:"2",type:"monotone"})))},w=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},E=(a(294),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.cityInfo.name,t=this.props.cityInfo.country,a=this.props.currentDay,n=this.props.description;return r.a.createElement(m.e,{className:"overallInfo"},r.a.createElement(m.c,null,r.a.createElement("h2",{className:"city-info"},e,", ",t),r.a.createElement("p",null,w(a)),r.a.createElement("p",null,n.weatherMain,", ",n.weatherDescription)))}}]),t}(n.Component));E.defaultProps={cityInfo:{},currentDay:"",descritpion:{}};var O=a(293),I=a.n(O),j=(a(307),function(e,t){var a=e.trim().toLowerCase(),n=a.length;return n<3?[]:n>=3?t.filter(function(e){return e.name.toLowerCase().slice(0,n)===a}):void 0}),B=function(e){return e.name+", "+e.id},F=function(e){return r.a.createElement("div",null,e.name,", ",e.country)},S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={cityId:"",value:"",suggestions:[]},a.onSuggestionsFetchRequested=function(e){var t=e.value,n=a.props.cityList;a.setState({suggestions:j(t,n)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.onChange=function(e,t){var n=t.newValue,r=a.props.setCityId;if(a.setState({value:n}),n.match(/\D+\d+/)){var i=n.match(/\d+/)[0];a.setState({cityId:i}),r(i)}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"removeCityIdFromString",value:function(e){if(e.match(/[a-zA-Z]+,\s\d+/)){var t=e.match(/,\s\d+/)[0];return e.replace(t,"")}return e}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Type a city",value:this.removeCityIdFromString(t),onChange:this.onChange};return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:B,renderSuggestion:F,inputProps:n}))}}]),t}(n.Component),W=a(292),T={getCityOverallInfo:function(e){return{name:e.city.name,country:e.city.country}},getCurrentTimeDailyWeather:function(e){return void 0===e?{}:{imgCode:e[0].weather[0].icon,humidity:e[0].main.humidity,pressure:e[0].main.pressure,temperature:Math.round(e[0].main.temp),wind:e[0].wind.speed,weatherMain:e[0].weather[0].main,weatherDescription:e[0].weather[0].description}},getFiveDaysForecast:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a={},n="";return e.forEach(function(e){var r=new Date(1e3*e.dt),i=r.getDate(),s=r.getDay(),c=t[s];i!==n?(a[c]={hourlyForecast:[e]},a[c].day=t[s]):a[c].hourlyForecast.push(e),n=i}),a},getMinAndMaxTemperatureForPassedDay:function(e){var t=e.map(function(e){return Math.round(e.main.temp)});return{min:Math.min.apply(Math,Object(W.a)(t)),max:Math.max.apply(Math,Object(W.a)(t))}},prepareDataForChart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"temperatureButton":var a=[];return t.forEach(function(e){var t=new Date(1e3*e.dt).getHours();a.push({hour:t,value:Math.round(e.main.temp)})}),a;case"pressureButton":var n=[];return t.forEach(function(e){var t=new Date(1e3*e.dt).getHours();n.push({hour:t,value:e.main.pressure})}),n;case"windButton":var r=[];return t.forEach(function(e){var t=new Date(1e3*e.dt).getHours();r.push({hour:t,value:e.wind.speed})}),r;default:return{}}}},N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={activeButtonChart:"temperatureButton"},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"setActiveButtonChart",value:function(e){this.setState({activeButtonChart:e})}},{key:"render",value:function(){var e=this.props.cityList,t=this.state.activeButtonChart,a=this.props.currentDay,n=T.getCurrentTimeDailyWeather(this.props.selectedDayForecast.hourlyForecast),i={weatherMain:n.weatherMain,weatherDescription:n.weatherDescription},s=this.props.overallCityInfo,c=T.prepareDataForChart(t,this.props.selectedDayForecast.hourlyForecast),o=this.setActiveButtonChart.bind(this);return r.a.createElement("div",null,r.a.createElement(E,{cityInfo:s,currentDay:a,description:i}),r.a.createElement(S,{cityList:e,setCityId:this.props.setCityId}),r.a.createElement(v,{currentDateTimeWeather:n,onButtonClick:o,activeButtonChart:t}),r.a.createElement(k,{selectedDateWeather:c,activeButtonChart:t}))}}]),t}(n.Component);N.defaultProps={cityList:[],currentDay:"",overallCityInfo:{},currentDateTimeWeather:{},selectedDayForecast:{}};a(309);var _=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Weather app"))}}]),t}(n.Component),M=(a(311),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleOnClick",value:function(e){(0,this.props.onSelect)(this.props.blockIndex,e)}},{key:"render",value:function(){var e=this.props.dayName,t=this.props.isActive,a=this.props.dailyWeatherInfo,n=a.hourlyForecast[0].weather[0].icon,i=T.getMinAndMaxTemperatureForPassedDay(a.hourlyForecast);return r.a.createElement("div",{className:t?"singleDayBlock active":"singleDayBlock",onClick:this.handleOnClick.bind(this,e)},r.a.createElement("div",{className:"singleDayBlock__dayName"},r.a.createElement("span",{className:""},w(e.substr(0,3)))),r.a.createElement("img",{src:f(n),className:"singleDayBlock__image",alt:"weather type icon"}),r.a.createElement("span",{className:"singleDayBlock__temp singleDayBlock--dayTemp"},i.max,"\xb0"),r.a.createElement("span",{className:"singleDayBlock__temp singleDayBlock--nightTemp"},i.min,"\xb0"))}}]),t}(n.Component));M.defaultProps={dailyWeatherInfo:{},dayName:""};var L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={activeId:0,cityId:a.props.cityId},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.cityId!==this.state.cityId&&this.setState({activeId:0,cityId:e.cityId})}},{key:"onDaySelect",value:function(e,t){this.setState({activeId:e}),this.props.setCurrentDay(t)}},{key:"render",value:function(){var e=this.state.activeId,t=this.onDaySelect.bind(this),a=this.props.fiveDaysForecast,n=Object.keys(a).map(function(n,i){return r.a.createElement(M,{blockIndex:i,dayName:n,dailyWeatherInfo:a[n],key:i,isActive:i===e,onSelect:t})});return r.a.createElement(m.e,null,r.a.createElement(m.c,null,n))}}]),t}(n.Component),P=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x="https://api.openweathermap.org/data/2.5/forecast?id=",A="a23d2967a22cfa9a510a2c630aa76206",R="&units=metric",q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={cityId:"3094802",cityList:[],currentDateTime:(new Date).getTime(),currentDateTimeWeather:{},fiveDaysForecast:{},overallCityInfo:{}},a.getOpenWeatherData=function(){var e=a.state.cityId,t=new Date(a.state.currentDateTime).getDay(),n=P[t];y.a.get(x+e+"&APPID="+A+R).then(function(e){var r=e.data,i=T.getCityOverallInfo(r),s=T.getFiveDaysForecast(r.list),c=s[n];a.setState({apiWeatherData:r,overallCityInfo:i,currentDateTimeWeather:c,fiveDaysForecast:s,currentDay:P[t]})}).catch(function(e){return console.log(e)})},a.setCurrentDay=function(e){a.setState({currentDay:e,currentDateTimeWeather:a.state.fiveDaysForecast[e]})},a.setCityId=function(e){a.setState({cityId:e})},a.setCityId.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getCityList(),this.getOpenWeatherData()}},{key:"getCityList",value:function(){var e=this;y.a.get("https://raw.githubusercontent.com/radek-polcode/react-weather-app/master/src/containers/_city.list.min.json").then(function(t){e.setState({cityList:t.data})})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.cityId!==t.cityId){this.getOpenWeatherData();var a=new Date(this.state.currentDateTime).getDay(),n=P[a];this.setState({currentDay:n,currentDateTimeWeather:this.state.fiveDaysForecast[n]})}}},{key:"render",value:function(){var e=this.state.cityList,t=this.state.cityId,a=this.state.currentDay,n=this.state.fiveDaysForecast,i=this.state.overallCityInfo,s=this.state.currentDateTimeWeather;return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement(m.d,null,r.a.createElement("div",{className:"weather-block"},r.a.createElement(N,{cityList:e,currentDay:a,currentDateTimeWeather:s,overallCityInfo:i,selectedDayForecast:n[a],setCityId:this.setCityId}),r.a.createElement(L,{cityId:t,currentDay:a,setCurrentDay:this.setCurrentDay,fiveDaysForecast:this.state.fiveDaysForecast}))))}}]),t}(n.Component);q.defaultProps={};var z=q;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[132,2,1]]]);
//# sourceMappingURL=main.967831aa.chunk.js.map